// directional-scss | Author: Tyson Matanich (http://matanich.com), 2013 | License: MIT
$dir: ltr !default;

// Default $dir if not valid
@if $dir != ltr and $dir != rtl {
  $dir: ltr;
}

@function if-ltr($if, $else: null) {
  @if $dir != rtl {
    @return $if;
  }
  @else {
    @return $else;
  }
}

@function if-rtl($if, $else: null) {
  @return if-ltr($else, $if);
}

$left: if-ltr(left, right);
$right: if-ltr(right, left);

@function side-values($values) {
  @if $dir == rtl and length($values) >= 4 {
    // Reorder right and left positions in list
    @return nth($values, 1) nth($values, 4) nth($values, 3) nth($values, 2);
  }
  @else {
    @return $values;
  }
}

@function corner-values($values) {
  @if $dir == rtl and length($values) > 1 {
	// Reorder right and left positions in list
	@if length($values) == 2 {
		@return nth($values, 2) nth($values, 1);
	}
	@else if length($values) == 3 {
		@return nth($values, 2) nth($values, 1) nth($values, 2) nth($values, 3);
	}
	@else {
		@return nth($values, 2) nth($values, 1) nth($values, 4) nth($values, 3);
	}
}
@else {
  @return $values;
}
}

@mixin if-ltr { 
  @if $dir != rtl {
    @content;
  }
}

@mixin if-rtl {
  @if $dir == rtl {
    @content;
  }
}

@function stripDirection($string) {
  @return str-slice($string, 0, str-index($string, '-'));
}

@mixin outputSwap($val,$col){
  @if $val == padding-left or $val == margin-left or $val == border-left {
    $val: stripDirection($val) + right;
    #{$val}: #{$col};
  } @else if $val == padding-right or $val == margin-right or $val == border-right {
    $val: stripDirection($val) + left;
    #{$val}: #{$col};
  } @else if $val == float {
    @if $col == left {
      #{$val}: right;
    } @else if $col == right {
      #{$val}: left;
    } @else {
      #{$val}: #{$col};
    }
  } @else if $val == text-align {
    @if $col == left {
      #{$val}: right;
    } @else if $col == right {
      #{$val}: left;
    } @else {
      #{$val}: #{$col};
    }
  } @else if $val == left {
      right: #{$col};
  } @else if $val == right {
      left: #{$col};
  }
}

@mixin print($val,$col){
    #{$val}: #{$col};
}

@mixin if-mixed($selector, $property-value...) {
  @if $dirMixed == true {
    $default: ltr;
    $secondary: rtl;
    
    @if $dir == rtl {
      $secondary: $default;
      $default: $dir;
    }
    [dir="#{$default}"] #{$selector} {
      @each $pair in $property-value {
          @include print(nth($pair, 1) ,nth($pair, 2));
      }
    }
    [dir="#{$secondary}"] #{$selector} {
      @each $pair in $property-value {
          @include outputSwap(nth($pair, 1) ,nth($pair, 2));
      }
    }
  }
}

@include if-mixed("[class*='col']", (padding-#{$left}, 30px), (padding-#{$right}, 55px), 
(margin-#{$right}, 5px), (float, $right), ($left, 10px), ($right, 25px), (text-align, $right));